<div class="col-lg-6 mx-auto mt-5">
  <h1>Edit Task</h1>
  <%= form_with model: @task, url: task_path do |f|%>
    <%= render 'shared/errors', object: @task %>
    <div class="mb-3 required">
      <%= f.label :name,"Task Name" %>
      <%= f.text_field :name, class: "form-control", placeholder: "Task Name", required: true %>
    </div>
    <div class="form-group mb-3">
      <%= f.label :category_id, "Category" %>
      <%= collection_select(:task, :category_id, Category.all, :id, :name, {:prompt => true,:include_blank =>"None", :multiple=>false, selected: @task.category_id })%>
    </div>
    <div class="mb-3">
      <%= f.label :date, "Required On" %>
      <%= f.date_field :date, class: "form-control"%>
    </div>
    <div class="mb-3">
      <%= f.label :time %>
      <% if @task.time %>
        <%= f.time_field :time, value: "#{@task.time.strftime("%H:%M")}"%>
      <% else %>
        <%= f.time_field :time %>
      <% end %>
    </div>
    <div class="mb-3 required">
      <%= f.label :priority %>
      <%= f.select :priority, options_for_select(humanize_enum(Task.priorities), selected: @task.priority), class: "form-control", required: true %>
    </div>
    <div class="mb-3 required">
      <%= f.label :employee_id, "Assigned To" %>
      <%= collection_select(:task, :employee_id, User.all, :id, :name, {:prompt => true, :multiple=>false })%>
    </div>
    <div class="mb-3">
      <%= f.label :repeat, "Repeat Interval" %><br>
      <%= f.collection_radio_buttons :repeat, humanize_enum(Task.repeats), :second, :first do |b| %>
        <%= b.label { b.radio_button + " " + b.text } %>
      <% end %>
    </div>
    <div class="mb-3">
      <%= f.submit "Update Task", class: "btn btn-primary" %>
    </div>
  <% end %>
  <%= link_to "Back", :back, class: "btn btn-outline-secondary" %>
</div>
